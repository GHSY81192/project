;(function($){$.fn.lubo=function(options){return this.each(function(){var _lubo=jQuery('.lubo');var _box=jQuery('.lubo_box');var _this=jQuery(this);var luboHei=_box.height();var Over='mouseover';var Out='mouseout';var Click='click';var Li="li";var _cirBox='.cir_box';var cirOn='cir_on';var _cirOn='.cir_on';var cirlen=_box.children(Li).length;var luboTime=4000;var switchTime=200;cir();Btn();function cir(){_lubo.append('<ul class="cir_box"></ul>');var cir_box=jQuery('.cir_box');for(var i=0;i<cirlen;i++){cir_box.append('<li style="" value="'+i+'"></li>');}
var cir_dss=cir_box.width();cir_box.css({left:'50%',marginLeft:-cir_dss/2,bottom:'10%'});cir_box.children(Li).eq(0).addClass(cirOn);cir_box.children(Li).eq(0).css('z-index','1.1');}
function Btn(){var leftBtn=jQuery('.left_btn');var rightBtn=jQuery('.right_btn');leftBtn.bind(Click,function(){var cir_box=jQuery(_cirBox);var onLen=jQuery(_cirOn).val();_box.children(Li).eq(onLen).stop(false,false).animate({opacity:0},switchTime);if(onLen==0){onLen=cirlen;}
_box.children(Li).eq(onLen-1).stop(false,false).animate({opacity:1},switchTime,function(){_box.children(Li).css('z-index',"0");jQuery(this).css("z-index","9");});cir_box.children(Li).eq(onLen-1).addClass(cirOn).siblings().removeClass(cirOn);})
rightBtn.bind(Click,function(){var cir_box=jQuery(_cirBox);var onLen=jQuery(_cirOn).val();_box.children(Li).eq(onLen).stop(false,false).animate({opacity:0},switchTime);if(onLen==cirlen-1){onLen=-1;}
_box.children(Li).eq(onLen+1).stop(false,false).animate({opacity:1},switchTime,function(){_box.children(Li).css('z-index',"0");jQuery(this).css("z-index","9");});cir_box.children(Li).eq(onLen+1).addClass(cirOn).siblings().removeClass(cirOn);})}
int=setInterval(clock,luboTime);function clock(){var cir_box=jQuery(_cirBox);var onLen=jQuery(_cirOn).val();_box.children(Li).eq(onLen).stop(false,false).animate({opacity:0},switchTime);if(onLen==cirlen-1){onLen=-1;}
_box.children(Li).eq(onLen+1).stop(false,false).animate({opacity:1},switchTime,function(){_box.children(Li).css('z-index',"0");jQuery(this).css("z-index","9");});cir_box.children(Li).eq(onLen+1).addClass(cirOn).siblings().removeClass(cirOn);}
_lubo.bind(Over,function(){clearTimeout(int);});_lubo.bind(Out,function(){int=setInterval(clock,luboTime);});jQuery(_cirBox).children(Li).bind(Over,function(){var inde=jQuery(this).index();jQuery(this).addClass(cirOn).siblings().removeClass(cirOn);_box.children(Li).stop(false,false).animate({opacity:0},switchTime);_box.children(Li).eq(inde).stop(false,false).animate({opacity:1},switchTime,function(){_box.children(Li).css('z-index',"0");_box.children(Li).eq(inde).css('z-index','9');});});});}})(jQuery);